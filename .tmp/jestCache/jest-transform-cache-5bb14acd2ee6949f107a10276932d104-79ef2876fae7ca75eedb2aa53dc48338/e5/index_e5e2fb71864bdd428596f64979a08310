62f65962d5c9647084a2603bd1c51201
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const convict_1 = __importDefault(require("convict"));
const path_1 = __importDefault(require("path"));
const dotenv_1 = __importDefault(require("dotenv"));
dotenv_1.default.config();
const pieConfig = (0, convict_1.default)({
    env: {
        doc: 'The application environment.',
        format: ['production', 'development', 'staging', 'test'],
        default: 'default',
        env: 'NODE_ENV'
    },
    mongo: {
        url: {
            doc: 'The Mongo connection URL',
            format: String,
            default: process.env.MONGO_URL || "mongodb+srv://test:test@cluster0.5n3ek.mongodb.net/?retryWrites=true&w=majority",
            env: process.env.MONGO_URL || "mongodb+srv://test:test@cluster0.5n3ek.mongodb.net/?retryWrites=true&w=majority"
        }
    }
});
const defaultConfigPath = path_1.default.join(__dirname, 'default.json').replace(/\\/g, '/');
const envConfigPath = path_1.default.join(__dirname, pieConfig.get('env').trim() + '.json').replace(/\\/g, '/');
pieConfig.loadFile([defaultConfigPath, envConfigPath]);
exports.default = pieConfig;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxlcGF0clxccHJvamVjdHNcXEV4Y2hhbmdlTmVzdC1CYWNrZW5kXFxzcmNcXENvbnRleHRzXFxQSUVcXFNoYXJlZFxcaW5mcmFzdHJ1Y3R1cmVcXGNvbmZpZ1xcaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxzREFBOEI7QUFDOUIsZ0RBQXdCO0FBQ3hCLG9EQUEyQjtBQUUzQixnQkFBTSxDQUFDLE1BQU0sRUFBRSxDQUFBO0FBRWYsTUFBTSxTQUFTLEdBQUcsSUFBQSxpQkFBTyxFQUFDO0lBQ3hCLEdBQUcsRUFBRTtRQUNILEdBQUcsRUFBRSw4QkFBOEI7UUFDbkMsTUFBTSxFQUFFLENBQUMsWUFBWSxFQUFFLGFBQWEsRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDO1FBQ3hELE9BQU8sRUFBRSxTQUFTO1FBQ2xCLEdBQUcsRUFBRSxVQUFVO0tBQ2hCO0lBQ0QsS0FBSyxFQUFFO1FBQ0wsR0FBRyxFQUFFO1lBQ0gsR0FBRyxFQUFFLDBCQUEwQjtZQUMvQixNQUFNLEVBQUUsTUFBTTtZQUNkLE9BQU8sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsSUFBSSxpRkFBaUY7WUFDbkgsR0FBRyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxJQUFJLGlGQUFpRjtTQUNoSDtLQUNGO0NBQ0YsQ0FBQyxDQUFDO0FBRUgsTUFBTSxpQkFBaUIsR0FBRyxjQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxjQUFjLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFBO0FBQ2xGLE1BQU0sYUFBYSxHQUFHLGNBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQTtBQUVyRyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsaUJBQWlCLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQztBQUV2RCxrQkFBZSxTQUFTLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxlcGF0clxccHJvamVjdHNcXEV4Y2hhbmdlTmVzdC1CYWNrZW5kXFxzcmNcXENvbnRleHRzXFxQSUVcXFNoYXJlZFxcaW5mcmFzdHJ1Y3R1cmVcXGNvbmZpZ1xcaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbnZpY3QgZnJvbSAnY29udmljdCc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudidcclxuXHJcbmRvdGVudi5jb25maWcoKVxyXG5cclxuY29uc3QgcGllQ29uZmlnID0gY29udmljdCh7XHJcbiAgZW52OiB7XHJcbiAgICBkb2M6ICdUaGUgYXBwbGljYXRpb24gZW52aXJvbm1lbnQuJyxcclxuICAgIGZvcm1hdDogWydwcm9kdWN0aW9uJywgJ2RldmVsb3BtZW50JywgJ3N0YWdpbmcnLCAndGVzdCddLFxyXG4gICAgZGVmYXVsdDogJ2RlZmF1bHQnLFxyXG4gICAgZW52OiAnTk9ERV9FTlYnXHJcbiAgfSxcclxuICBtb25nbzoge1xyXG4gICAgdXJsOiB7XHJcbiAgICAgIGRvYzogJ1RoZSBNb25nbyBjb25uZWN0aW9uIFVSTCcsXHJcbiAgICAgIGZvcm1hdDogU3RyaW5nLFxyXG4gICAgICBkZWZhdWx0OiBwcm9jZXNzLmVudi5NT05HT19VUkwgfHwgXCJtb25nb2RiK3NydjovL3Rlc3Q6dGVzdEBjbHVzdGVyMC41bjNlay5tb25nb2RiLm5ldC8/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5XCIsXHJcbiAgICAgIGVudjogcHJvY2Vzcy5lbnYuTU9OR09fVVJMIHx8IFwibW9uZ29kYitzcnY6Ly90ZXN0OnRlc3RAY2x1c3RlcjAuNW4zZWsubW9uZ29kYi5uZXQvP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eVwiXHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGRlZmF1bHRDb25maWdQYXRoID0gcGF0aC5qb2luKF9fZGlybmFtZSwgJ2RlZmF1bHQuanNvbicpLnJlcGxhY2UoL1xcXFwvZywgJy8nKVxyXG5jb25zdCBlbnZDb25maWdQYXRoID0gcGF0aC5qb2luKF9fZGlybmFtZSwgcGllQ29uZmlnLmdldCgnZW52JykudHJpbSgpICsgJy5qc29uJykucmVwbGFjZSgvXFxcXC9nLCAnLycpXHJcblxyXG5waWVDb25maWcubG9hZEZpbGUoW2RlZmF1bHRDb25maWdQYXRoLCBlbnZDb25maWdQYXRoXSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwaWVDb25maWc7Il0sInZlcnNpb24iOjN9